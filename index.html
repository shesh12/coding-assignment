<!DOCTYPE html>
<html dir="ltr" lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
        <link rel="shortcut icon" href="favicon.png" type="image/x-icon" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="theme-color" content="#f2f2f2" />
        <meta name="description" content="" />
        <title>PS - XT Coding Assignment</title>
        <meta name="robots" content="follow, index" />
        <link rel="canonical" href="" />
        <meta property="og:title" content="PS - XT Coding Assignment" />
        <meta property="og:description" content="PS - XT Coding Assignment" />       
        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;700;900&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="css/style.css"  />
    </head>
    <body class="home">
        <!-- END PRELOADER -->
        <div class="page-wrapper">
           <!-- Header HTML --> 
           <header>
              <div class="container">
                <h1>PS - XT <small>lCoding Assignment</small></h1>
              </div>
           </header>
           <!-- Main Content Wrapper -->
           <div class="main">
              <div class="container">
                  <h2>SpaceX Launch Programs</h2>
              </div>
              <div class="container">
                <div class="inner-wrapper">
                    <div class="sidebar">
                      <h4>Filters</h4>
                       <!--  Launch Year -->
                        <div class="filtertype-box">
                          <div class="filter-heading">
                            Launch Year
                          </div>
                          <ul id="year_filter">
                            <!-- <li class="active">2006</li>
                            <li>2007</li>
                            <li>2008</li>
                            <li>2009</li>
                            <li>2010</li>
                            <li>2011</li>
                            <li>2012</li> -->
                          </ul>
                        </div>
                        <!-- Successful Launch -->
                        <div class="filtertype-box">
                          <div class="filter-heading">
                            Successful Launch
                          </div>
                          <ul>
                            <li class="slaunch">True</li>
                            <li class="slaunch">False</li>  
                          </ul>
                        </div>
                        <!-- Successful Landing -->
                        <div class="filtertype-box">
                          <div class="filter-heading">
                            Successful Landing
                          </div>
                          <ul>                            
                            <li class="llaunch">True</li>
                            <li class="llaunch">False</li>                            
                          </ul>
                        </div>
                    </div>
                    <div class="content-wrapper" id="content-wrapper-id">
                      <!-- <div class="prod-box">
                          <figure>
                            <img src="images/img-1.png" alt="Image">
                          </figure>
                          <div class="prod-content">
                             <h6>FalconSat #1</h6>
                             <div class="mission-id"><strong>Mission Ids:</strong>
                                <ul>
                                  <li>{list Mission Ids}</li>
                                </ul>

                             </div>
                             <div class="launch-year">
                                <strong>Launch Year:</strong> <span>2006</span>
                             </div>
                             <div class="launch-year">
                                <strong>Successful Launch:</strong> <span>false</span>
                             </div>
                             <div class="launch-year">
                                <strong>Successful Landing:</strong> <span>{launch_landing}</span>
                             </div>
                          </div>
                      </div> -->        
                    </div>
                </div>
              </div>
              <div class="container">
                  <h2 class="text-center">Developed by: <small>Shesh Narayan Mishra</small></h2>
              </div>
           </div>
           <!-- Footer HTML -->
           <footer>
              <div class="container">
                  <p>Copyright Â© 2021 PS - XT Coding Assignment</p>
              </div>
           </footer> 
        </div>
        <!-- jQuery library -->
        <script src="js/jquery.min.js"></script>
        
        <script type="text/javascript">
          $(document).ready(function(){
              $.ajax({
                url: "https://api.spaceXdata.com/v3/launches?limit=100", 
                success: function(result) {
                  var html = '';
                  var arr = [];
                  $.each(result, function (index, data) {
                    arr.push(data.launch_year);
                    var div = '<div class="prod-box"><figure>';
                    div += '<img src="' + data.links.mission_patch_small + '" alt="Image"></figure>';
                    div += '<div class="prod-content"><h6>' + data.mission_name + '</h6>';
                    div += '<div class="mission-id"><strong>Mission Ids:</strong><ul>';
                    var len = data.mission_id;
                    for(i=0; i<len.length; i++) {
                      div += '<li>'+data.mission_id[i]+'</li>';
                    }
                    div += '</ul></div><div class="launch-year">';
                      div += '<strong>Launch Year:</strong> <span>' + data.launch_year +'</span></div>';
                    div += '<div class="launch-year"><strong>Successful Launch:</strong> <span>';
                    div += data.launch_success + '</span></div><div class="launch-year"><strong>Successful Landing:</strong>';
                    div += '<span>' + data.launch_landing + '</span></div></div></div>';
                    html += div;
                  });
                  var unique = arr.filter(onlyUnique); 
                  var filter = '';
                  for(var i=0; i<unique.length; i++) {
                    if(i==0)
                      filter += '<li class="year active">'+ unique[i] +'</li>';
                    else
                      filter += '<li class="year">'+ unique[i] +'</li>';
                  }
                  $('#year_filter').html(filter);
                  $('#content-wrapper-id').html(html);
                  $('.slaunch').click(function(){
                    var slaunch = $(this).text();
                    slaunch = slaunch.toLowerCase();
                    $.ajax({
                      url: "https://api.spaceXdata.com/v3/launches?limit=100&launch_success=" + slaunch, 
                      success: function(result) {
                        var html = '';
                        var arr = [];
                        $.each(result, function (index, data) {
                          arr.push(data.launch_year);
                          var div = '<div class="prod-box"><figure>';
                          div += '<img src="' + data.links.mission_patch_small + '" alt="Image"></figure>';
                          div += '<div class="prod-content"><h6>' + data.mission_name + '</h6>';
                          div += '<div class="mission-id"><strong>Mission Ids:</strong><ul>';
                          var len = data.mission_id;
                          for(i=0; i<len.length; i++) {
                            div += '<li>'+data.mission_id[i]+'</li>';
                          }
                          div += '</ul></div><div class="launch-year">';
                            div += '<strong>Launch Year:</strong> <span>' + data.launch_year +'</span></div>';
                          div += '<div class="launch-year"><strong>Successful Launch:</strong> <span>';
                          div += data.launch_success + '</span></div><div class="launch-year"><strong>Successful Landing:</strong>';
                          div += '<span>' + data.launch_landing + '</span></div></div></div>';
                          html += div;
                        });
                        var unique = arr.filter(onlyUnique); 
                        var filter = '';
                        for(var i=0; i<unique.length; i++) {
                          if(i==0)
                            filter += '<li class="year active">'+ unique[i] +'</li>';
                          else
                            filter += '<li class="year">'+ unique[i] +'</li>';
                        }
                        $('#year_filter').html(filter);
                        $('#content-wrapper-id').html(html);
                        /*$('.year').click(function(){
                          var y = $(this).text();
                          
                        });*/
                      }
                    });
                  });
                  $('.llaunch').click(function(){
                    var llaunch = $(this).text();
                    llaunch = llaunch.toLowerCase();
                    $.ajax({
                      url: "https://api.spaceXdata.com/v3/launches?limit=100&launch_success=true&land_success=" + llaunch, 
                      success: function(result) {
                        var html = '';
                        var arr = [];
                        $.each(result, function (index, data) {
                          arr.push(data.launch_year);
                          var div = '<div class="prod-box"><figure>';
                          div += '<img src="' + data.links.mission_patch_small + '" alt="Image"></figure>';
                          div += '<div class="prod-content"><h6>' + data.mission_name + '</h6>';
                          div += '<div class="mission-id"><strong>Mission Ids:</strong><ul>';
                          var len = data.mission_id;
                          for(i=0; i<len.length; i++) {
                            div += '<li>'+data.mission_id[i]+'</li>';
                          }
                          div += '</ul></div><div class="launch-year">';
                            div += '<strong>Launch Year:</strong> <span>' + data.launch_year +'</span></div>';
                          div += '<div class="launch-year"><strong>Successful Launch:</strong> <span>';
                          div += data.launch_success + '</span></div><div class="launch-year"><strong>Successful Landing:</strong>';
                          div += '<span>' + data.launch_landing + '</span></div></div></div>';
                          html += div;
                        });
                        var unique = arr.filter(onlyUnique); 
                        var filter = '';
                        for(var i=0; i<unique.length; i++) {
                          if(i==0)
                            filter += '<li class="year active">'+ unique[i] +'</li>';
                          else
                            filter += '<li class="year">'+ unique[i] +'</li>';
                        }
                        $('#year_filter').html(filter);
                        $('#content-wrapper-id').html(html);
                        // $('.year').click(function(){
                        //   var y = $(this).text();
                          
                        // });
                      }
                    });
                  });
                  $('.year').click(function(){
                    var year = $(this).text();
                    year = year.toLowerCase();
                    $.ajax({
                      url: "https://api.spaceXdata.com/v3/launches?limit=100&launch_success=true&land_success=true&launch_year=" + year, 
                      success: function(result) {
                        var html = '';
                        var arr = [];
                        $.each(result, function (index, data) {
                          arr.push(data.launch_year);
                          var div = '<div class="prod-box"><figure>';
                          div += '<img src="' + data.links.mission_patch_small + '" alt="Image"></figure>';
                          div += '<div class="prod-content"><h6>' + data.mission_name + '</h6>';
                          div += '<div class="mission-id"><strong>Mission Ids:</strong><ul>';
                          var len = data.mission_id;
                          for(i=0; i<len.length; i++) {
                            div += '<li>'+data.mission_id[i]+'</li>';
                          }
                          div += '</ul></div><div class="launch-year">';
                            div += '<strong>Launch Year:</strong> <span>' + data.launch_year +'</span></div>';
                          div += '<div class="launch-year"><strong>Successful Launch:</strong> <span>';
                          div += data.launch_success + '</span></div><div class="launch-year"><strong>Successful Landing:</strong>';
                          div += '<span>' + data.launch_landing + '</span></div></div></div>';
                          html += div;
                        });
                        var unique = arr.filter(onlyUnique); 
                        var filter = '';
                        for(var i=0; i<unique.length; i++) {
                          if(i==0)
                            filter += '<li class="year active">'+ unique[i] +'</li>';
                          else
                            filter += '<li class="year">'+ unique[i] +'</li>';
                        }
                        $('#year_filter').html(filter);
                        $('#content-wrapper-id').html(html);
                        // $('.year').click(function(){
                        //   var y = $(this).text();
                          
                        // });
                      }
                    });
                  });
                }
              });
          });
          function onlyUnique(value, index, self) {
            return self.indexOf(value) === index;
          }
        </script>
    </body>
</html>
